{"version":3,"sources":["components/header/index.js","components/dropdown/index.js","components/event/index.js","components/events/index.js","components/footer/index.js","index.js","App.js"],"names":["title","subtitle","className","label","onChange","options","placeholder","value","selected","filter","o","pop","aria-label","isSearchable","isClearable","event","key","link","href","target","rel","aria-hidden","dateTime","date","split","shift","tinytime","padMonth","padHours","render","Date","parse","city","free","description","toQuery","obj","query","slice","uniqEvents","events","events2","forEach","Object","values","Events","state","month","search","qs","decodeURIComponent","window","location","toLowerCase","exec","this","setState","length","fetch","then","res","json","todaysDate","time","listEvents","sort","a","b","map","replace","trim","$1","toUpperCase","isNaN","parseInt","getMonth","e","indexOf","months","Array","from","Set","d","cities","localeCompare","c","props","history","push","pathname","htmlFor","id","type","defaultValue","aria-live","renderFee","React","Component","children","getFullYear","ReactDOM","require","createBrowserHistory","document","getElementById"],"mappings":"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","file":"static/js/main.937b3882.chunk.js","sourcesContent":["import React from 'react';\n\nexport default ({ title, subtitle }) => (\n  <header className=\"header section\">\n    <div className=\"has-text-centered\">\n      <h1 className=\"title\">{title}</h1>\n      <p className=\"subtitle\">{subtitle}</p>\n    </div>\n  </header>\n);\n","import React from 'react';\nimport Select from 'react-select';\n\nexport default ({ label, onChange, options, placeholder, value }) => {\n  const selected = options.filter(o => o.value === value).pop();\n  return (\n    <Select\n      aria-label={label}\n      placeholder={placeholder}\n      value={selected}\n      onChange={selected => onChange(selected ? selected.value : null)}\n      isSearchable={true}\n      isClearable={true}\n      options={options}\n    />\n  )\n};\n","import React from 'react';\nimport tinytime from 'tinytime';\n\nexport default ({ event }) => (\n  <div className=\"column is-half\" key={event.link}>\n    <a\n      href={event.link}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      className=\"card\"\n    >\n      <div className=\"card-header\">\n        <h3 className=\"card-header-title break-all\">{event.title}</h3>\n      </div>\n      <div className=\"card-content\">\n        <div className=\"content\">\n          <div className=\"tags has-addons\">\n            <span className=\"tag is-link is-medium\">\n              <span className=\"fa fa-calendar\" aria-hidden=\"true\" />\n            </span>\n            <time\n              className=\"tag is-light is-medium\"\n              dateTime={event.date.split(' ').shift()}\n            >\n              {tinytime('{DD} {MMMM} {YYYY}, {H}:{mm}', {\n                padMonth: true,\n                padHours: true,\n              }).render(new Date(Date.parse(event.date)))}\n            </time>\n            &nbsp;\n            <span className=\"tag is-link is-medium\">\n              <span className=\"fa fa-building\" />\n            </span>\n            <span className=\"tag is-light is-medium\">{event.city}</span>\n            {!event.free && (\n              <div>\n                &nbsp;\n                <span className=\"tag is-link is-medium\">\n                  <i className=\"fa fa-dollar\" />\n                </span>\n                <span className=\"tag is-light is-medium\">Fee</span>\n              </div>\n            )}\n          </div>\n          <div className=\"break-all\">{event.description || ''}</div>\n        </div>\n      </div>\n    </a>\n  </div>\n);\n","import React from 'react';\nimport tinytime from 'tinytime';\nimport Dropdown from '../dropdown';\nimport Event from '../event';\n\n/**\n * Convert object to query string.\n *\n * @param  {object} obj\n *\n * @return {string}\n */\nconst toQuery = obj => {\n  let query = '?';\n\n  for (let key in obj) {\n    query += key + '=' + (obj[key] ? obj[key] : '') + '&';\n  }\n\n  return query.slice(0, -1);\n};\n\n/**\n * Get uniq events.\n *\n * @param  {array} events\n *\n * @return {array}\n */\nconst uniqEvents = events => {\n  const events2 = {};\n  events.forEach(event => {\n    if (typeof event === 'object' && !events2[event.link]) {\n      events2[event.link] = event;\n    }\n  });\n  return Object.values(events2);\n};\n\nexport default class Events extends React.Component {\n  /**\n   * Default state.\n   */\n  state = {\n    city: '',\n    month: 0,\n    events: [],\n    search: '',\n  };\n\n  /**\n   * Fetch events on mount.\n   */\n  componentDidMount() {\n    const qs = decodeURIComponent(window.location.search.toLowerCase());\n    const city = /city=(.*?)(?:&|$)/.exec(qs) || [];\n    const month = /month=(\\w+)/.exec(qs) || [];\n    const search = /search=(.*?)$/.exec(qs) || [];\n\n    this.setState({\n      city: city.length > 1 ? city[1] : '',\n      month: month.length > 1 ? month[1] : '',\n      search: search.length > 1 ? search[1] : '',\n    });\n\n    fetch('https://swedishtechevents.com/api/events.json')\n      .then(res => res.json())\n      .then(res => {\n        this.setState({\n          events: uniqEvents(res),\n        });\n      });\n  }\n\n  /**\n   * Render events list.\n   */\n  render() {\n    if (!this.state.events.length) {\n      return [\n        <h2 key=\"upcomming-events1\" className=\"title is-3\">\n          Upcoming events\n        </h2>,\n        <p key=\"loading\">Loading events...</p>,\n      ];\n    }\n\n    const { city, month, search } = this.state;\n    const todaysDate = new Date();\n\n    // Get all events that hasn't passed (api may not up date)\n    // and that have a title.\n    let events = this.state.events.filter(event => {\n      if (event.time < +todaysDate) {\n        return false;\n      }\n\n      if (!event.title) {\n        return false;\n      }\n\n      return true;\n    });\n\n    // Sort by date.\n    events = events.sort((a, b) => {\n      return a.time - b.time;\n    });\n\n    // Clean up city.\n    events = events.map(event => {\n      event.city = event.city.replace(/\\d+(\\s|)\\d+/, '').trim();\n      event.city = event.city\n        .toLowerCase()\n        .replace(/^(.)|\\s(.)/g, $1 => $1.toUpperCase());\n\n      return event;\n    });\n\n    // Filter events that should be listed.\n    let listEvents = events;\n\n    // Filter by month if any.\n    if (month && !isNaN(month)) {\n      listEvents = listEvents.filter(event => {\n        return parseInt(month, 10) === new Date(event.time).getMonth() + 1;\n      });\n    }\n\n    // Filter by city if any.\n    if (city && city.length && city.toLowerCase() !== 'null') {\n      listEvents = listEvents.filter(e => {\n        return e.city.toLowerCase() === city.toLowerCase();\n      });\n    }\n\n    // Filter by search query if any.\n    if (search.length) {\n      listEvents = listEvents.filter(event => {\n        return (\n          event.title.trim().toLowerCase().indexOf(search) !== -1 ||\n          ('' + event.description).trim().toLowerCase().indexOf(search) !== -1\n        );\n      });\n    }\n\n    // Sort by date.\n    listEvents = listEvents.sort((a, b) => {\n      return a.time - b.time;\n    });\n\n    // Get months to use for filter dropdown.\n    const months = Array.from(\n      new Set(\n        events.map(event =>\n          tinytime('{MMMM}-{Mo}').render(new Date(event.time)),\n        ),\n      ),\n    ).map(d => {\n      return {\n        label: d.split('-')[0],\n        value: d.split('-')[1],\n      };\n    });\n\n    // Get cities to use for filter dropdown.\n    const cities = Array.from(new Set(events.map(event => event.city)))\n      .sort((a, b) => a.localeCompare(b))\n      .filter(c => c)\n      .map(c => {\n        return {\n          label: c,\n          value: c.toLowerCase(),\n        };\n      });\n\n    return [\n      <h2 key=\"upcomming-events2\" className=\"title is-3\">\n        Upcoming events ({listEvents.length})\n      </h2>,\n      <strong key=\"filters\">Filters</strong>,\n      <div className=\"columns\" key=\"columns-1\">\n        <div className=\"column\">\n          <Dropdown\n            label=\"Month\"\n            key=\"months\"\n            options={months}\n            placeholder=\"Select month...\"\n            value={month}\n            onChange={value => {\n              this.setState({\n                month: parseInt(value, 10),\n              });\n\n              this.props.history.push({\n                pathname: '/',\n                search: toQuery({\n                  month: value,\n                  city: city,\n                  search: search,\n                }),\n              });\n            }}\n          />\n        </div>\n        <div className=\"column\">\n          <Dropdown\n            label=\"City\"\n            key=\"cities\"\n            options={cities}\n            placeholder=\"Select city...\"\n            value={city}\n            onChange={value => {\n              this.setState({\n                city: value,\n              });\n\n              this.props.history.push({\n                pathname: '/',\n                search: toQuery({\n                  month: month,\n                  city: value,\n                  search: search,\n                }),\n              });\n            }}\n          />\n        </div>\n        <div className=\"column\">\n          <div className=\"search\">\n            <label htmlFor=\"search\" className=\"visually-hidden\">\n              Search\n            </label>\n            <div className=\"search-control\">\n              <div className=\"search-input\">\n                <input\n                  id=\"search\"\n                  type=\"search\"\n                  aria-label=\"Search\"\n                  placeholder=\"Search...\"\n                  defaultValue={search}\n                  onChange={event => {\n                    this.setState({\n                      search: event.target.value,\n                    });\n\n                    this.props.history.push({\n                      pathname: '/',\n                      search: toQuery({\n                        month: month,\n                        city: city,\n                        search: event.target.value,\n                      }),\n                    });\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>,\n      <div className=\"columns is-multiline\" aria-live=\"polite\" key=\"columns-2\">\n        {listEvents.map(event => (\n          <Event key={event.link} event={event} renderFee={this.renderFee} />\n        ))}\n      </div>,\n    ];\n  }\n}\n","import React from 'react';\n\nexport default ({ children }) => (\n  <footer className=\"section\">\n    <div className=\"container\">\n      <div className=\"content has-text-centered\">\n        <p>\n          Created by{' '}\n          <a\n            href=\"https://twitter.com/frozzare\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            @frozzare\n          </a>{' '}\n          and{' '}\n          <a\n            href=\"https://twitter.com/kolombiken\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            @kolombiken\n          </a>\n        </p>\n        <p>\n          <a\n            href=\"https://github.com/swedishtechevents\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            Source code\n          </a>\n          &nbsp;\n          -\n          &nbsp;\n          <a\n            href=\"https://twitter.com/swetechevents\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            @swetechevents\n          </a>\n        </p>\n        <p>© {new Date().getFullYear()}</p>\n      </div>\n    </div>\n  </footer>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'whatwg-fetch';\nimport 'bulma/css/bulma.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App history={require('history').createBrowserHistory()} />, document.getElementById('root'));\n","import React from 'react';\nimport Header from './components/header';\nimport Events from './components/events';\nimport Footer from './components/footer';\n\nexport default props => (\n  <div>\n    <Header\n      title=\"Swedish Tech Events\"\n      subtitle=\"Events for developers, technologists, and other geeks in Sweden\"\n    />\n    <main className=\"section\">\n      <div className=\"container\">\n        <p>\n          Events are fetched from{' '}\n          <a href=\"https://www.meetup.com/\">meetup.com</a> and{' '}\n          <a href=\"https://www.eventbrite.com/\">eventbrite.com</a> that is\n          categorized with tech and from our GitHub every hour.{' '}\n          <a\n            href=\"https://github.com/swedishtechevents/events/issues/new\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            Missing your event? Submit it!\n          </a>\n        </p>\n        <br />\n        <Events history={props.history} />\n      </div>\n    </main>\n    <Footer />\n  </div>\n);\n"],"sourceRoot":""}