{"version":3,"sources":["components/header/index.js","components/dropdown/index.js","components/event/index.js","components/events/index.js","components/footer/index.js","index.js","App.js"],"names":["title","subtitle","className","Dropdown","state","selected","this","setState","props","onChange","value","aria-label","label","placeholder","handleChange","bind","options","React","Component","event","key","link","href","target","rel","aria-hidden","dateTime","tinytime","padMonth","render","Date","date","padHours","city","free","description","toQuery","obj","query","slice","uniqEvents","events","events2","forEach","Object","values","Events","month","search","qs","decodeURIComponent","window","location","toLowerCase","exec","length","fetch","then","res","json","todaysDate","filter","listEvents","sort","a","b","map","replace","trim","$1","toUpperCase","isNaN","parseInt","getMonth","e","indexOf","months","Array","from","Set","d","split","cities","localeCompare","c","history","push","pathname","htmlFor","id","type","defaultValue","aria-live","renderFee","children","getFullYear","createHistory","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.4207bab8.chunk.js","sourcesContent":["import React from 'react';\n\nexport default ({ title, subtitle }) => (\n  <header className=\"header section\">\n    <div className=\"has-text-centered\">\n      <h1 className=\"title\">{title}</h1>\n      <p className=\"subtitle\">{subtitle}</p>\n    </div>\n  </header>\n);\n","import React from 'react';\nimport Select from 'react-select';\nimport 'react-select/dist/react-select.css';\n\nexport default class Dropdown extends React.Component {\n  /**\n   * Default state.\n   */\n  state = {\n    selected: null,\n  };\n\n  /**\n   * Handle change.\n   *\n   * @param {object} selected\n   */\n  handleChange(selected) {\n    this.setState({\n      selected: selected,\n    });\n\n    if (this.props.onChange) {\n      if (selected) {\n        this.props.onChange(selected.value);\n      } else {\n        this.props.onChange(null);\n      }\n    }\n  }\n\n  /**\n   * Render dropdown.\n   */\n  render() {\n    const value = this.state.selected && this.state.selected.value;\n    return (\n      <Select\n        aria-label={this.props.label}\n        placeholder={this.props.placeholder}\n        value={value || this.props.value}\n        onChange={this.handleChange.bind(this)}\n        options={this.props.options}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport tinytime from 'tinytime';\n\nexport default ({ event }) => (\n  <div className=\"column is-half\" key={event.link}>\n    <a\n      href={event.link}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      className=\"card\"\n    >\n      <div className=\"card-header\">\n        <h3 className=\"card-header-title\">{event.title}</h3>\n      </div>\n      <div className=\"card-content\">\n        <div className=\"content\">\n          <div className=\"tags has-addons\">\n            <span className=\"tag is-link is-medium\">\n              <span className=\"fa fa-calendar\" aria-hidden=\"true\" />\n            </span>\n            <time\n              className=\"tag is-light is-medium\"\n              dateTime={tinytime('{YYYY}-{Mo}-{DD}', { padMonth: true }).render(\n                new Date(event.date),\n              )}\n            >\n              {tinytime('{DD} {MMMM} {YYYY}, {H}:{mm}', {\n                padMonth: true,\n                padHours: true,\n              }).render(new Date(event.date))}\n            </time>\n            &nbsp;\n            <span className=\"tag is-link is-medium\">\n              <span className=\"fa fa-building\" />\n            </span>\n            <span className=\"tag is-light is-medium\">{event.city}</span>\n            {!event.free && (\n              <div>\n                &nbsp;\n                <span className=\"tag is-link is-medium\">\n                  <i className=\"fa fa-dollar\" />\n                </span>\n                <span className=\"tag is-light is-medium\">Fee</span>\n              </div>\n            )}\n          </div>\n          <div>{event.description || ''}</div>\n        </div>\n      </div>\n    </a>\n  </div>\n);\n","import React from 'react';\nimport tinytime from 'tinytime';\nimport Dropdown from '../dropdown';\nimport Event from '../event';\n\n/**\n * Convert object to query string.\n *\n * @param  {object} obj\n *\n * @return {string}\n */\nconst toQuery = obj => {\n  let query = '?';\n\n  for (let key in obj) {\n    query += key + '=' + obj[key] + '&';\n  }\n\n  return query.slice(0, -1);\n};\n\n/**\n * Get uniq events.\n *\n * @param  {array} events\n *\n * @return {array}\n */\nconst uniqEvents = events => {\n  const events2 = {};\n  events.forEach(event => {\n    if (typeof event === 'object' && !events2[event.link]) {\n      events2[event.link] = event;\n    }\n  });\n  return Object.values(events2);\n};\n\nexport default class Events extends React.Component {\n  /**\n   * Default state.\n   */\n  state = {\n    city: '',\n    month: 0,\n    events: [],\n    search: '',\n  };\n\n  /**\n   * Fetch events on mount.\n   */\n  componentDidMount() {\n    const qs = decodeURIComponent(window.location.search.toLowerCase());\n    const city = /city=(.*?)(?:&|$)/.exec(qs) || [];\n    const month = /month=(\\w+)/.exec(qs) || [];\n    const search = /search=(.*?)$/.exec(qs) || [];\n\n    this.setState({\n      city: city.length > 1 ? city[1] : '',\n      month: month.length > 1 ? month[1] : '',\n      search: search.length > 1 ? search[1] : '',\n    });\n\n    fetch('https://swedishtechevents.com/api/events.json')\n      .then(res => res.json())\n      .then(res => {\n        this.setState({\n          events: uniqEvents(res),\n        });\n      });\n  }\n\n  /**\n   * Render events list.\n   */\n  render() {\n    if (!this.state.events.length) {\n      return [\n        <h2 key=\"upcomming-events1\" className=\"title is-3\">\n          Upcoming events\n        </h2>,\n        <p key=\"loading\">Loading events...</p>,\n      ];\n    }\n\n    const { city, month, search } = this.state;\n    const todaysDate = new Date();\n\n    // Get all events that hasn't passed (api may not up date)\n    // and that have a title.\n    let events = this.state.events.filter(event => {\n      if (event.date < +todaysDate) {\n        return false;\n      }\n\n      if (!event.title) {\n        return false;\n      }\n\n      return true;\n    });\n\n    // Sort by date.\n    events = events.sort((a, b) => {\n      return a.date - b.date;\n    });\n\n    // Clean up city.\n    events = events.map(event => {\n      event.city = event.city.replace(/\\d+(\\s|)\\d+/, '').trim();\n      event.city = event.city\n        .toLowerCase()\n        .replace(/^(.)|\\s(.)/g, $1 => $1.toUpperCase());\n\n      return event;\n    });\n\n    // Filter events that should be listed.\n    let listEvents = events;\n\n    // Filter by month if any.\n    if (month && !isNaN(month)) {\n      listEvents = listEvents.filter(event => {\n        return parseInt(month, 10) === new Date(event.date).getMonth() + 1;\n      });\n    }\n\n    // Filter by city if any.\n    if (city && city.length && city.toLowerCase() !== 'null') {\n      listEvents = listEvents.filter(e => {\n        return e.city.toLowerCase() === city.toLowerCase();\n      });\n    }\n\n    // Filter by search query if any.\n    if (search.length) {\n      listEvents = listEvents.filter(event => {\n        return (\n          event.title.trim().toLowerCase().indexOf(search) !== -1 ||\n          ('' + event.description).trim().toLowerCase().indexOf(search) !== -1\n        );\n      });\n    }\n\n    // Sort by date.\n    listEvents = listEvents.sort((a, b) => {\n      return a.date - b.date;\n    });\n\n    // Get months to use for filter dropdown.\n    const months = Array.from(\n      new Set(\n        events.map(event =>\n          tinytime('{MMMM}-{Mo}').render(new Date(event.date)),\n        ),\n      ),\n    ).map(d => {\n      return {\n        label: d.split('-')[0],\n        value: d.split('-')[1],\n      };\n    });\n\n    // Get cities to use for filter dropdown.\n    const cities = Array.from(new Set(events.map(event => event.city)))\n      .sort((a, b) => a.localeCompare(b))\n      .map(c => {\n        return {\n          label: c,\n          value: c.toLowerCase(),\n        };\n      });\n\n    return [\n      <h2 key=\"upcomming-events2\" className=\"title is-3\">\n        Upcoming events ({listEvents.length})\n      </h2>,\n      <strong key=\"filters\">Filters</strong>,\n      <div className=\"columns\" key=\"columns-1\">\n        <div className=\"column\">\n          <Dropdown\n            label=\"Month\"\n            key=\"months\"\n            options={months}\n            placeholder=\"Select month...\"\n            value={month}\n            onChange={value => {\n              this.setState({\n                month: parseInt(value, 10),\n              });\n\n              this.props.history.push({\n                pathname: '/',\n                search: toQuery({\n                  month: value,\n                  city: city,\n                  search: search,\n                }),\n              });\n            }}\n          />\n        </div>\n        <div className=\"column\">\n          <Dropdown\n            label=\"City\"\n            key=\"cities\"\n            options={cities}\n            placeholder=\"Select city...\"\n            value={city}\n            onChange={value => {\n              this.setState({\n                city: value,\n              });\n\n              this.props.history.push({\n                pathname: '/',\n                search: toQuery({\n                  month: month,\n                  city: value,\n                  search: search,\n                }),\n              });\n            }}\n          />\n        </div>\n        <div className=\"column\">\n          <div className=\"Select is-clearable is-searchable Select--single\">\n            <label htmlFor=\"search\" className=\"visually-hidden\">\n              Search\n            </label>\n            <div className=\"Select-control\">\n              <div className=\"Select-input\">\n                <input\n                  id=\"search\"\n                  type=\"search\"\n                  placeholder=\"Search...\"\n                  defaultValue={search}\n                  onChange={event => {\n                    this.setState({\n                      search: event.target.value,\n                    });\n\n                    this.props.history.push({\n                      pathname: '/',\n                      search: toQuery({\n                        month: month,\n                        city: city,\n                        search: event.target.value,\n                      }),\n                    });\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>,\n      <div className=\"columns is-multiline\" aria-live=\"polite\" key=\"columns-2\">\n        {listEvents.map(event => (\n          <Event key={event.link} event={event} renderFee={this.renderFee} />\n        ))}\n      </div>,\n    ];\n  }\n}\n","import React from 'react';\n\nexport default ({ children }) => (\n  <footer className=\"section\">\n    <div className=\"container\">\n      <div className=\"content has-text-centered\">\n        <p>\n          Created by{' '}\n          <a\n            href=\"https://twitter.com/frozzare\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            @frozzare\n          </a>{' '}\n          and{' '}\n          <a\n            href=\"https://twitter.com/kolombiken\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            @kolombiken\n          </a>\n        </p>\n        <p>\n          <a\n            href=\"https://github.com/swedishtechevents\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            Source code\n          </a>\n          &nbsp;\n          -\n          &nbsp;\n          <a\n            href=\"https://twitter.com/swetechevents\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            @swetechevents\n          </a>\n        </p>\n        <p>© {new Date().getFullYear()}</p>\n      </div>\n    </div>\n  </footer>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'whatwg-fetch';\nimport 'bulma/css/bulma.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport './index.css';\nimport createHistory from 'history/createBrowserHistory';\nimport App from './App';\n\nconst history = createHistory();\n\nReactDOM.render(<App history={history} />, document.getElementById('root'));\n","import React from 'react';\nimport Header from './components/header';\nimport Events from './components/events';\nimport Footer from './components/footer';\n\nexport default props => (\n  <div>\n    <Header\n      title=\"Swedish Tech Events\"\n      subtitle=\"Events for developers, technologists, and other geeks in Sweden\"\n    />\n    <main className=\"section\">\n      <div className=\"container\">\n        <p>\n          Events are fetched from{' '}\n          <a href=\"https://www.meetup.com/\">meetup.com</a> and{' '}\n          <a href=\"https://www.eventbrite.com/\">eventbrite.com</a> that is\n          categorized with tech and from our GitHub every hour.{' '}\n          <a\n            href=\"https://github.com/swedishtechevents/events/issues/new\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            Missing your event? Submit it!\n          </a>\n        </p>\n        <br />\n        <Events history={props.history} />\n      </div>\n    </main>\n    <Footer />\n  </div>\n);\n"],"sourceRoot":""}